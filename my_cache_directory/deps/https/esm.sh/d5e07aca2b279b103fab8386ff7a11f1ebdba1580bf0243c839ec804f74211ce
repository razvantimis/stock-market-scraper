/* esm.sh - esbuild bundle(domutils@3.0.1) deno production */
import{isTag as M,isCDATA as _,isText as I,hasChildren as v,isComment as R}from"/v106/domhandler@5.0.3/deno/domhandler.js";import W from"/v106/dom-serializer@2.0.0/deno/dom-serializer.js";import{ElementType as Y}from"/v106/domelementtype@2.3.0/deno/domelementtype.js";function B(t,n){return W(t,n)}function et(t,n){return v(t)?t.children.map(r=>B(r,n)).join(""):""}function C(t){return Array.isArray(t)?t.map(C).join(""):M(t)?t.name==="br"?`
`:C(t.children):_(t)?C(t.children):I(t)?t.data:""}function g(t){return Array.isArray(t)?t.map(g).join(""):v(t)&&!R(t)?g(t.children):I(t)?t.data:""}function A(t){return Array.isArray(t)?t.map(A).join(""):v(t)&&(t.type===Y.Tag||_(t))?A(t.children):I(t)?t.data:""}import{isTag as S,hasChildren as P}from"/v106/domhandler@5.0.3/deno/domhandler.js";function H(t){return P(t)?t.children:[]}function K(t){return t.parent||null}function ft(t){let n=K(t);if(n!=null)return H(n);let r=[t],{prev:e,next:i}=t;for(;e!=null;)r.unshift(e),{prev:e}=e;for(;i!=null;)r.push(i),{next:i}=i;return r}function ot(t,n){var r;return(r=t.attribs)===null||r===void 0?void 0:r[n]}function st(t,n){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,n)&&t.attribs[n]!=null}function at(t){return t.name}function ct(t){let{next:n}=t;for(;n!==null&&!S(n);)({next:n}=n);return n}function lt(t){let{prev:n}=t;for(;n!==null&&!S(n);)({prev:n}=n);return n}function b(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){let n=t.parent.children;n.splice(n.lastIndexOf(t),1)}}function ht(t,n){let r=n.prev=t.prev;r&&(r.next=n);let e=n.next=t.next;e&&(e.prev=n);let i=n.parent=t.parent;if(i){let u=i.children;u[u.lastIndexOf(t)]=n,t.parent=null}}function xt(t,n){if(b(n),n.next=null,n.parent=t,t.children.push(n)>1){let r=t.children[t.children.length-2];r.next=n,n.prev=r}else n.prev=null}function dt(t,n){b(n);let{parent:r}=t,e=t.next;if(n.next=e,n.prev=t,t.next=n,n.parent=r,e){if(e.prev=n,r){let i=r.children;i.splice(i.lastIndexOf(e),0,n)}}else r&&r.children.push(n)}function gt(t,n){if(b(n),n.parent=t,n.prev=null,t.children.unshift(n)!==1){let r=t.children[1];r.prev=n,n.next=r}else n.next=null}function bt(t,n){b(n);let{parent:r}=t;if(r){let e=r.children;e.splice(e.indexOf(t),0,n)}t.prev&&(t.prev.next=n),n.parent=r,n.prev=t.prev,n.next=t,t.prev=n}import{isTag as m,hasChildren as V}from"/v106/domhandler@5.0.3/deno/domhandler.js";function y(t,n,r=!0,e=1/0){return Array.isArray(n)||(n=[n]),w(t,n,r,e)}function w(t,n,r,e){let i=[];for(let u of n){if(t(u)&&(i.push(u),--e<=0))break;if(r&&V(u)&&u.children.length>0){let f=w(t,u.children,r,e);if(i.push(...f),e-=f.length,e<=0)break}}return i}function Et(t,n){return n.find(t)}function N(t,n,r=!0){let e=null;for(let i=0;i<n.length&&!e;i++){let u=n[i];if(m(u))t(u)?e=u:r&&u.children.length>0&&(e=N(t,u.children,!0));else continue}return e}function q(t,n){return n.some(r=>m(r)&&(t(r)||r.children.length>0&&q(t,r.children)))}function Ot(t,n){var r;let e=[],i=n.filter(m),u;for(;u=i.shift();){let f=(r=u.children)===null||r===void 0?void 0:r.filter(m);f&&f.length>0&&i.unshift(...f),t(u)&&e.push(u)}return e}import{isTag as x,isText as L}from"/v106/domhandler@5.0.3/deno/domhandler.js";var E={tag_name(t){return typeof t=="function"?n=>x(n)&&t(n.name):t==="*"?x:n=>x(n)&&n.name===t},tag_type(t){return typeof t=="function"?n=>t(n.type):n=>n.type===t},tag_contains(t){return typeof t=="function"?n=>L(n)&&t(n.data):n=>L(n)&&n.data===t}};function F(t,n){return typeof n=="function"?r=>x(r)&&n(r.attribs[t]):r=>x(r)&&r.attribs[t]===n}function z(t,n){return r=>t(r)||n(r)}function G(t){let n=Object.keys(t).map(r=>{let e=t[r];return Object.prototype.hasOwnProperty.call(E,r)?E[r](e):F(r,e)});return n.length===0?null:n.reduce(z)}function Nt(t,n){let r=G(t);return r?r(n):!0}function Tt(t,n,r,e=1/0){let i=G(t);return i?y(i,n,r,e):[]}function Dt(t,n,r=!0){return Array.isArray(n)||(n=[n]),N(F("id",t),n,r)}function h(t,n,r=!0,e=1/0){return y(E.tag_name(t),n,r,e)}function At(t,n,r=!0,e=1/0){return y(E.tag_type(t),n,r,e)}import{hasChildren as k}from"/v106/domhandler@5.0.3/deno/domhandler.js";function wt(t){let n=t.length;for(;--n>=0;){let r=t[n];if(n>0&&t.lastIndexOf(r,n-1)>=0){t.splice(n,1);continue}for(let e=r.parent;e;e=e.parent)if(t.includes(e)){t.splice(n,1);break}}return t}var l;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(l||(l={}));function J(t,n){let r=[],e=[];if(t===n)return 0;let i=k(t)?t:t.parent;for(;i;)r.unshift(i),i=i.parent;for(i=k(n)?n:n.parent;i;)e.unshift(i),i=i.parent;let u=Math.min(r.length,e.length),f=0;for(;f<u&&r[f]===e[f];)f++;if(f===0)return l.DISCONNECTED;let s=r[f-1],o=s.children,c=r[f],d=e[f];return o.indexOf(c)>o.indexOf(d)?s===n?l.FOLLOWING|l.CONTAINED_BY:l.FOLLOWING:s===t?l.PRECEDING|l.CONTAINS:l.PRECEDING}function Lt(t){return t=t.filter((n,r,e)=>!e.includes(n,r+1)),t.sort((n,r)=>{let e=J(n,r);return e&l.PRECEDING?-1:e&l.FOLLOWING?1:0}),t}function jt(t){let n=O($,t);return n?n.name==="feed"?Q(n):U(n):null}function Q(t){var n;let r=t.children,e={type:"atom",items:h("entry",r).map(f=>{var s;let{children:o}=f,c={media:j(o)};a(c,"id","id",o),a(c,"title","title",o);let d=(s=O("link",o))===null||s===void 0?void 0:s.attribs.href;d&&(c.link=d);let T=p("summary",o)||p("content",o);T&&(c.description=T);let D=p("updated",o);return D&&(c.pubDate=new Date(D)),c})};a(e,"id","id",r),a(e,"title","title",r);let i=(n=O("link",r))===null||n===void 0?void 0:n.attribs.href;i&&(e.link=i),a(e,"description","subtitle",r);let u=p("updated",r);return u&&(e.updated=new Date(u)),a(e,"author","email",r,!0),e}function U(t){var n,r;let e=(r=(n=O("channel",t.children))===null||n===void 0?void 0:n.children)!==null&&r!==void 0?r:[],i={type:t.name.substr(0,3),id:"",items:h("item",t.children).map(f=>{let{children:s}=f,o={media:j(s)};a(o,"id","guid",s),a(o,"title","title",s),a(o,"link","link",s),a(o,"description","description",s);let c=p("pubDate",s);return c&&(o.pubDate=new Date(c)),o})};a(i,"title","title",e),a(i,"link","link",e),a(i,"description","description",e);let u=p("lastBuildDate",e);return u&&(i.updated=new Date(u)),a(i,"author","managingEditor",e,!0),i}var X=["url","type","lang"],Z=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function j(t){return h("media:content",t).map(n=>{let{attribs:r}=n,e={medium:r.medium,isDefault:!!r.isDefault};for(let i of X)r[i]&&(e[i]=r[i]);for(let i of Z)r[i]&&(e[i]=parseInt(r[i],10));return r.expression&&(e.expression=r.expression),e})}function O(t,n){return h(t,n,!0,1)[0]}function p(t,n,r=!1){return g(h(t,n,r,1)).trim()}function a(t,n,r,e,i=!1){let u=p(r,e,i);u&&(t[n]=u)}function $(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}import{isTag as zt,isCDATA as Jt,isText as Qt,isComment as Ut,isDocument as Xt,hasChildren as Zt}from"/v106/domhandler@5.0.3/deno/domhandler.js";export{l as DocumentPosition,dt as append,xt as appendChild,J as compareDocumentPosition,q as existsOne,y as filter,w as find,Ot as findAll,N as findOne,Et as findOneChild,ot as getAttributeValue,H as getChildren,Dt as getElementById,Tt as getElements,h as getElementsByTagName,At as getElementsByTagType,jt as getFeed,et as getInnerHTML,at as getName,B as getOuterHTML,K as getParent,ft as getSiblings,C as getText,st as hasAttrib,Zt as hasChildren,A as innerText,Jt as isCDATA,Ut as isComment,Xt as isDocument,zt as isTag,Qt as isText,ct as nextElementSibling,bt as prepend,gt as prependChild,lt as prevElementSibling,b as removeElement,wt as removeSubsets,ht as replaceElement,Nt as testElement,g as textContent,Lt as uniqueSort};
