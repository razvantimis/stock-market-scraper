/* esm.sh - esbuild bundle(parse5-htmlparser2-tree-adapter@7.0.0) deno production */
import{html as x}from"/v106/parse5@7.1.2/deno/parse5.js";import{Element as h,Document as d,ProcessingInstruction as C,Comment as g,Text as v,isDirective as m,isText as s,isComment as T,isTag as D}from"/v106/domhandler@5.0.3/deno/domhandler.js";function p(e){return new v(e)}function f(e){let t=e.includes('"')?"'":'"';return t+e+t}function O(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${f(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${f(n)}`),r}var l={isCommentNode:T,isElementNode:D,isTextNode:s,createDocument(){let e=new d([]);return e["x-mode"]=x.DOCUMENT_MODE.NO_QUIRKS,e},createDocumentFragment(){return new d([])},createElement(e,t,n){let r=Object.create(null),i=Object.create(null),o=Object.create(null);for(let a=0;a<n.length;a++){let u=n[a].name;r[u]=n[a].value,i[u]=n[a].namespace,o[u]=n[a].prefix}let c=new h(e,r,[]);return c.namespace=t,c["x-attribsNamespace"]=i,c["x-attribsPrefix"]=o,c},createCommentNode(e){return new g(e)},appendChild(e,t){let n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){let r=e.children.indexOf(n),{prev:i}=n;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){l.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,r){let i=O(t,n,r),o=e.children.find(c=>m(c)&&c.name==="!doctype");o?o.data=i??null:(o=new C("!doctype",i),l.appendChild(e,o)),o["x-name"]=t??void 0,o["x-publicId"]=n??void 0,o["x-systemId"]=r??void 0},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){let t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){let n=e.children[e.children.length-1];n&&s(n)?n.data+=t:l.appendChild(e,p(t))},insertTextBefore(e,t,n){let r=e.children[e.children.indexOf(n)-1];r&&s(r)?r.data+=t:l.insertBefore(e,p(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){let r=t[n].name;typeof e.attribs[r]>"u"&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return m(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};export{l as adapter,O as serializeDoctypeContent};
